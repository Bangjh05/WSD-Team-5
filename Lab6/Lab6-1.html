<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>2411790 신정은</title>
  <style>
    .popup {
      position: fixed;
      width: 300px;
      height: 400px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 3000;
      background-color: rgb(96, 122, 200);
      border-radius: 20px;
      box-shadow: 0px 13px 40px -6px;
      display: none;
      font-family: sans-serif;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .popup_title {
      background-color: #e6f3f4;
      padding: 8px 10px;
      text-align: left;
      font-weight: bold;
      font-size: 14px;
    }

    .popup_contents {
      flex: 1;
      text-align: center;
      padding: 20px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    .popup_contents .notice-text {
      background-color: white;
      font-size: 28px;
      font-weight: bold;
      padding: 10px;
      width: 73%;
    }

    .popup_contents img {
      width: 80%;
      height: 200px;
      object-fit: cover;
      border-radius: 5px;
    }

    .popup_footer {
      background-color: #e6f3f4;
      padding: 5px;
      text-align: left;
    }

    .popup_footer button {
      margin: 5px;
      padding: 2px 8px;
      font-size: 13px;
    }
  </style>
</head>
<body>

<h1>쿠키 테스트 하기</h1>
<hr>
<div id="welcome"></div>

<div class="popup" id="popup">
  <div class="popup_title">공지사항</div>
  <div class="popup_contents">
    <div class="notice-text">Notice</div>
    <img src="notice.jpg" alt="공지 이미지">
  </div>
  <div class="popup_footer">
    <button onclick="closeToday()">오늘 하루 보지 않기</button>
    <button onclick="closePopup()">close</button>
  </div>
</div>

<script>
  function setCookie(name, value, expiredays) {
    let date = new Date();
    date.setDate(date.getDate() + expiredays);
    document.cookie = name + "=" + escape(value) + "; path=/; expires=" + date.toUTCString();
  }

  function getCookie(name) {
    let cookie = document.cookie;
    name += "=";
    let start = cookie.indexOf(name);
    if (start !== -1) {
      start += name.length;
      let end = cookie.indexOf(";", start);
      if (end === -1) end = cookie.length;
      return unescape(cookie.substring(start, end));
    }
    return null;
  }

  function closePopup() {
    document.getElementById("popup").style.display = "none";
  }

  function closeToday() {
    setCookie("today", "y", 1);
    closePopup();
  }

  window.onload = function () {
    let username = getCookie("username");
    let count = getCookie("count");

    if (!username) {
      count = 0;
      username = "신정은";
      setCookie("username", username, 365);
    }

    count = parseInt(count || 0) + 1;
    setCookie("count", count, 365);

    document.getElementById("welcome").innerHTML =
      "본문 내용 영역<br>어서오십시오. " + username + "님의 " + count + "번째 방문을 환영합니다!";

    if (getCookie("today") !== "y") {
      document.getElementById("popup").style.display = "flex";
    }
  }
</script>

</body>
</html>